oospring.application.name=tickets

# ===============================
# Database Configuration (Local PostgreSQL)
# ===============================
spring.datasource.url=jdbc:postgresql://localhost:5432/Event_Booking_App_db
spring.datasource.username=postgres
spring.datasource.password=postgres123

# ===============================
# JPA / Hibernate
# ===============================
# Using 'update' mode for code-driven schema evolution
# Hibernate will automatically add new columns/tables without dropping existing data
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Use custom dialect to handle PostgreSQL enums properly
spring.jpa.properties.hibernate.dialect=com.event.tickets.config.PostgreSQLEnumDialect

# Allow Hibernate to add columns even if they might have NULL values initially
# This is safe because DataInitializer backfills the data after schema update
spring.jpa.properties.hibernate.hbm2ddl.jdbc_metadata_extraction_strategy=individually


# ===============================
# Server Configuration
# ===============================
# Using 8081 to avoid conflict with other services
# Change to 8080 if preferred: server.port=8080
server.port=8081

# ===============================
# Keycloak Configuration
# ===============================
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:9090/realms/event-ticket-platform

# Keycloak Admin API Configuration
t# IMPORTANT: For production and security, set these as environment variables
# For local development, create application-local.properties with real values (not committed to git)
keycloak.admin.server-url=${KEYCLOAK_SERVER_URL:http://localhost:9090}
keycloak.admin.realm=${KEYCLOAK_REALM:event-ticket-platform}
keycloak.admin.client-id=${KEYCLOAK_CLIENT_ID:event-ticket-platform-app}
keycloak.admin.client-secret=${KEYCLOAK_CLIENT_SECRET:changeme}
keycloak.admin.username=${KEYCLOAK_ADMIN_USERNAME:admin}
keycloak.admin.password=${KEYCLOAK_ADMIN_PASSWORD:changeme}

# ===============================
# Actuator Configuration
# ===============================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true

